# KT Wiz Frontend API ì‚¬ìš©ë²•

## ğŸš€ API í˜¸ì¶œ ê¸°ë³¸ ì„¤ì •
```javascript
// lib/api.jsì—ì„œ ê¸°ë³¸ ì„¤ì •
const API_BASE_URL = 'http://localhost:8080/api';

// fetch ë˜í¼ í•¨ìˆ˜
export const apiCall = async (endpoint, options = {}) => {
  const response = await fetch(`${API_BASE_URL}${endpoint}`, {
    headers: {
      'Content-Type': 'application/json',
      ...options.headers,
    },
    ...options,
  });
  
  if (!response.ok) {
    throw new Error(`API í˜¸ì¶œ ì‹¤íŒ¨: ${response.status}`);
  }
  
  return response.json();
};
```

## ğŸŸï¸ Venues (êµ¬ì¥)
```javascript
// ëª¨ë“  êµ¬ì¥ ì¡°íšŒ
const venues = await apiCall('/venues');

// íŠ¹ì • êµ¬ì¥ ì¡°íšŒ
const venue = await apiCall(`/venues/${venueId}`);
```

## ğŸ€ Teams (íŒ€)
```javascript
// ëª¨ë“  íŒ€ ì¡°íšŒ
const teams = await apiCall('/teams');

// íŠ¹ì • íŒ€ ì¡°íšŒ
const team = await apiCall(`/teams/${teamId}`);
```

## ğŸ® Games (ê²½ê¸°)
```javascript
// ëª¨ë“  ê²½ê¸° ì¡°íšŒ
const games = await apiCall('/games');

// íŠ¹ì • ê²½ê¸° ì¡°íšŒ
const game = await apiCall(`/games/${gameId}`);

// ìƒíƒœë³„ ê²½ê¸° ì¡°íšŒ
const gamesByStatus = await apiCall(`/games/status/${status}`);

// ê¸°ê°„ë³„ ê²½ê¸° ì¡°íšŒ
const gamesByDateRange = await apiCall(`/games/date-range?start=${startDate}&end=${endDate}`);

// ìƒˆ ê²½ê¸° ìƒì„±
const newGame = await apiCall('/games', {
  method: 'POST',
  body: JSON.stringify({
    homeTeamId: 'team-uuid',
    awayTeamId: 'team-uuid',
    venueId: 'venue-uuid',
    dateTime: '2024-01-01T18:00:00',
    status: 'scheduled'
  })
});

// ê²½ê¸° ìˆ˜ì •
const updatedGame = await apiCall(`/games/${gameId}`, {
  method: 'PUT',
  body: JSON.stringify({
    homeScore: 3,
    awayScore: 2,
    status: 'ended'
  })
});

// ê²½ê¸° ì‚­ì œ
await apiCall(`/games/${gameId}`, {
  method: 'DELETE'
});

// ê°€ì¥ ê°€ê¹Œìš´ ê²½ê¸° ì¡°íšŒ (ë©”ì¸í˜ì´ì§€ìš©)
const nextGame = await apiCall('/games/next');
```

## ğŸ“Š Team Standings (íŒ€ ìˆœìœ„)
```javascript
// ëª¨ë“  íŒ€ ìˆœìœ„ ì¡°íšŒ
const standings = await apiCall('/standings');

// íŠ¹ì • íŒ€ ìˆœìœ„ ì¡°íšŒ
const teamStanding = await apiCall(`/standings/team/${teamName}`);

// KT Wiz íŒ€ ìˆœìœ„ ì¡°íšŒ (ë©”ì¸í˜ì´ì§€ìš©)
const ktWizStanding = await apiCall('/standings/kt-wiz');

// ëª¨ë“  íŒ€ í†µê³„ ìˆ˜ë™ ì—…ë°ì´íŠ¸ (ê´€ë¦¬ììš©)
await apiCall('/standings/refresh', {
  method: 'POST'
});
```

## ğŸ‘¤ Users (ì‚¬ìš©ì)
```javascript
// ë¡œê·¸ì¸
const loginResult = await apiCall('/users/login', {
  method: 'POST',
  body: JSON.stringify({
    email: 'admin@kt.com',
    password: 'password123'
  })
});

// ë¡œê·¸ì¸ ì„±ê³µ ì‹œ localStorageì— ì €ì¥
if (loginResult.isAdmin) {
  localStorage.setItem('user', JSON.stringify(loginResult));
}
```

## ğŸ“ Posts (ê²Œì‹œê¸€)
```javascript
// ëª¨ë“  ê²Œì‹œê¸€ ì¡°íšŒ
const posts = await apiCall('/posts');

// ìµœê·¼ ê´€ë¦¬ì ê²Œì‹œê¸€ ì¡°íšŒ (limit íŒŒë¼ë¯¸í„°)
const adminPosts = await apiCall('/posts/admin-recent?limit=5');
```

## ğŸ” ì¸ì¦ ìƒíƒœ í™•ì¸
```javascript
// ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸
const isLoggedIn = () => {
  const user = localStorage.getItem('user');
  return user !== null;
};

// ê´€ë¦¬ì ê¶Œí•œ í™•ì¸
const isAdmin = () => {
  const user = localStorage.getItem('user');
  if (!user) return false;
  
  const userData = JSON.parse(user);
  return userData.isAdmin;
};

// ë¡œê·¸ì•„ì›ƒ
const logout = () => {
  localStorage.removeItem('user');
  // ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
};
```

## ğŸ¯ ì£¼ìš” ì‚¬ìš© í˜ì´ì§€
- **ë©”ì¸ í˜ì´ì§€**: `/games/next`, `/standings/kt-wiz`, `/posts/admin-recent`
- **ê²½ê¸° ê´€ë¦¬**: `/games` (CRUD)
- **ë¡œê·¸ì¸**: `/users/login`
- **ê²½ê¸° ì¼ì •**: `/games`, `/games/status/{status}`, `/games/date-range`
- **íŒ€ ìˆœìœ„**: `/standings`, `/standings/team/{teamName}`
- **ê´€ë¦¬ì ê¸°ëŠ¥**: `/standings/refresh` (íŒ€ í†µê³„ ì—…ë°ì´íŠ¸)

## âš ï¸ ì£¼ì˜ì‚¬í•­
- ëª¨ë“  API í˜¸ì¶œì€ try-catchë¡œ ì—ëŸ¬ ì²˜ë¦¬
- ë¡œê·¸ì¸ ìƒíƒœëŠ” localStorageë¡œ ê´€ë¦¬
- ê´€ë¦¬ì ê¸°ëŠ¥ì€ isAdmin ì²´í¬ í›„ ì ‘ê·¼
- CORS ì„¤ì •ìœ¼ë¡œ localhost:3000ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥
